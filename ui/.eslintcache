[{"C:\\work\\code\\CS410TextInfoSys\\CourseProject\\ui\\src\\index.js":"1","C:\\work\\code\\CS410TextInfoSys\\CourseProject\\ui\\src\\results.js":"2","C:\\work\\code\\CS410TextInfoSys\\CourseProject\\ui\\src\\faculty_scraper.js":"3"},{"size":531,"mtime":1607649838700,"results":"4","hashOfConfig":"5"},{"size":767,"mtime":1607649838703,"results":"6","hashOfConfig":"5"},{"size":4743,"mtime":1607836548866,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"bnm815",{"filePath":"11","messages":"12","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13","usedDeprecatedRules":"10"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},"C:\\work\\code\\CS410TextInfoSys\\CourseProject\\ui\\src\\index.js",[],["17","18"],"C:\\work\\code\\CS410TextInfoSys\\CourseProject\\ui\\src\\results.js",["19","20"],"import React from \"react\";\r\nimport './results.css';\r\n\r\nclass Results extends React.Component {\r\n    render() {\r\n        const { data } = this.props.location;\r\n\r\n        if (document.title != \"Results\") {\r\n            document.title = \"Results\";\r\n        }\r\n\r\n        if (data == null) {\r\n            return (\r\n                <h1 className=\"error\">Error, no results present!</h1>\r\n            );\r\n        }\r\n\r\n        return ([\r\n            <h1 className=\"listTitle\">Faculty Scraper</h1>,\r\n            <hr className=\"listBar\"></hr>,\r\n            <div className=\"list\">\r\n                {data.map(item => (<li className=\"listItem\"><a href={item} target=\"_blank\" className=\"url\">{item}</a></li>))}\r\n            </div>\r\n        ]);\r\n    }\r\n}\r\n\r\nexport default Results;\r\n","C:\\work\\code\\CS410TextInfoSys\\CourseProject\\ui\\src\\faculty_scraper.js",["21","22","23","24"],"import React from 'react';\r\nimport './faculty_scraper.css';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { Puff } from '@agney/react-loading';\r\n\r\nclass FacultySearchBox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            url: '',\r\n            loading: false\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.sendRequest = this.sendRequest.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({ url: event.target.value });\r\n        var urlString = String(event.target.value).replace(/\\/$/, \"\")\r\n        if (this.validateUrl(urlString)) {\r\n            document.getElementById(\"input\").setCustomValidity(\"Invalid URL: Make sure you are providing a valid university URL (starts with http(s):// and ends with .edu).\");\r\n            return;\r\n        }\r\n        document.getElementById(\"input\").setCustomValidity(\"\");\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        // Do nothing if already loading something.\r\n        if (this.state.loading)\r\n            return;\r\n\r\n        // Want to accept only URls that end in .edu ignoring trailing /s.\r\n        var urlString = this.reformatUrl(String(this.state.url).replace(/\\/$/, \"\"));\r\n        if (this.validateUrl(urlString)) {\r\n            console.log(\"Invalid URL.\");\r\n            return;\r\n        }\r\n        this.setState({loading: true});\r\n\r\n        // Send the request and start polling.\r\n        this.sendRequest(urlString);\r\n    }\r\n\r\n    validateUrl(urlString) {\r\n        return !urlString.endsWith('.edu') || !/^[a-zA-Z:\\/\\.]+$/.test(urlString);\r\n    }\r\n\r\n    reformatUrl(urlString) {\r\n        var out = urlString;\r\n\r\n        if (!(urlString.startsWith(\"https://\") || urlString.startsWith(\"http://\"))) {\r\n            out = \"https://\".concat(out);\r\n        }\r\n\r\n        if (!out.startsWith(\"http://www.\") && !out.startsWith(\"https://www.\")) {\r\n            var pos = out.indexOf(\"//\") + 2;\r\n            out = [out.slice(0, pos), \"www.\", out.slice(pos)].join('');\r\n        }\r\n\r\n        console.log(\"Formatted url: \", out);\r\n\r\n        return out;\r\n    }\r\n\r\n    sendRequest(url) {\r\n        // Send request to flask with the URL.\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            mode: \"cors\",\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ url: url })\r\n        };\r\n        \r\n        console.log(\"Sending request to \", url);\r\n\r\n        fetch('https://facultyscraper-heroku.herokuapp.com/', requestOptions)\r\n        //fetch('http://127.0.0.1:5000/', requestOptions)\r\n            .then(response => {\r\n                if (response.ok)\r\n                    return response.json();\r\n                else\r\n                    throw new Error(\"Bad response!\");\r\n            })\r\n            .then(data => {\r\n                if (data[\"result\"]) {\r\n                    this.setState({ loading: false, url: \"\" });\r\n\r\n                    // Don't go to results page if nothing to display.\r\n                    if (data[\"urls\"].length == 0) {\r\n                        document.getElementById(\"input\").setCustomValidity(\"Failed to get results! Check URL and make sure it is correct. Maybe try with/without the www.\");\r\n                    } else {\r\n                        this.props.history.push({ pathname: \"/results\", data: data[\"urls\"] });\r\n                    }\r\n                } else {\r\n                    setTimeout(this.sendRequest, 10000, url);\r\n                }\r\n            })\r\n            .catch((_error) => {\r\n                this.setState({ loading: false });\r\n                document.getElementById(\"input\").setCustomValidity(\"Invalid URL! Try another variation of this URL and make sure it is accessible!\");\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (document.title != \"Faculty Scraper\") {\r\n            document.title = \"Faculty Scraper\";\r\n        }\r\n\r\n        return [\r\n            <h1 className=\"title\">Faculty Scraper</h1>,\r\n            <form onSubmit={this.handleSubmit} className=\"wrap\" autoComplete=\"on\">\r\n                <label className=\"scrape\">\r\n                    <input autoFocus type=\"text\" id=\"input\" value={this.state.url} onChange={this.handleChange} placeholder=\"Input a university URL (e.g. https://www.illinois.edu)\" className=\"scrapeBar\" />\r\n                    <button type=\"submit\" className=\"scrapeButton\">\r\n                        {\r\n                            this.state.loading ? <Puff /> : <FaSearch />\r\n                        }\r\n                    </button>\r\n                </label>\r\n            </form>\r\n        ];\r\n    }\r\n}\r\n\r\nexport default FacultySearchBox;\r\n",{"ruleId":"25","replacedBy":"26"},{"ruleId":"27","replacedBy":"28"},{"ruleId":"29","severity":1,"message":"30","line":8,"column":28,"nodeType":"31","messageId":"32","endLine":8,"endColumn":30},{"ruleId":"33","severity":1,"message":"34","line":22,"column":76,"nodeType":"35","endLine":22,"endColumn":91},{"ruleId":"36","severity":1,"message":"37","line":49,"column":58,"nodeType":"38","messageId":"39","endLine":49,"endColumn":59,"suggestions":"40"},{"ruleId":"36","severity":1,"message":"41","line":49,"column":60,"nodeType":"38","messageId":"39","endLine":49,"endColumn":61,"suggestions":"42"},{"ruleId":"29","severity":1,"message":"43","line":93,"column":45,"nodeType":"31","messageId":"32","endLine":93,"endColumn":47},{"ruleId":"29","severity":1,"message":"30","line":109,"column":28,"nodeType":"31","messageId":"32","endLine":109,"endColumn":30},"no-native-reassign",["44"],"no-negated-in-lhs",["45"],"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","no-useless-escape","Unnecessary escape character: \\/.","Literal","unnecessaryEscape",["46","47"],"Unnecessary escape character: \\..",["48","49"],"Expected '===' and instead saw '=='.","no-global-assign","no-unsafe-negation",{"messageId":"50","fix":"51","desc":"52"},{"messageId":"53","fix":"54","desc":"55"},{"messageId":"50","fix":"56","desc":"52"},{"messageId":"53","fix":"57","desc":"55"},"removeEscape",{"range":"58","text":"59"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"60","text":"61"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"62","text":"59"},{"range":"63","text":"61"},[1678,1679],"",[1678,1678],"\\",[1680,1681],[1680,1680]]